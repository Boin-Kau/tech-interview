# 7주차 스터디 정리

### Mutex Locks
- 여러 스레드가 공통 리소스에 접근하는 것을 제어하는 기법
- lock이 하나만 존재할 수 있는 locking 매커니즘을 따른다. (참고로 'mutex’는 'MUTual EXclusion’을 줄인 말이다.) 
- 이미 하나의 스레드가 critical section에서 작업중인 lock 상태에서 다른 스레드들은 critical section에 진입할 수 없도록 한다.

### Semaphores
- 여러 개의 프로세스나 스레드가 critical section에 진입할 수 있는 locking 매커니즘
- 세마포어는 카운터를 이용해 동시에 리소스에 접근할 수 있는 프로세스를 제한한다. 
- 물론 한 프로세스가 값을 변경할 때 다른 프로세스가 동시에 값을 변경하지는 못한다. 
- 세마포어는 P와 V라는 명령으로 접근할 수 있다. (P, V는 try와 increment를 뜻하는 네덜란드어 Proberen과 Verhogen의 머릿글자다.)

### Semaphore Usage
- 세마포어의 카운터가 한 개인 경우 바이너리 세마포어(Binary semaphore), 두 개 이상인 경우 카운팅 세마포어(Counting semaphore)라고 한다. 
- 바이너리 세마포어는 사실상 mutex와 같다.

### Deadlocks and Starvation
- 두 프로세스가 서로 종료될 때까지 대기하는 프로그램을 실행한다고 생각해보자. 프로세스 A는 B가 종료될 때까지, 프로세스 B는 A가 종료될 때까지 작업을 하지 않기 때문에 프로그램은 어떤 동작도 하지 못할 것이다. 
- 이처럼 두 프로세스가 리소스를 점유하고 놓아주지 않거나, 어떠한 프로세스도 리소스를 점유하지 못하는 상태가 되어 프로그램이 멈추는 현상을 데드락(Deadlock)이라고 한다. 
- 운영체제도 결국 소프트웨어이기 때문에 데드락에 빠질 수 있다.

### 면접 질문
💡 뮤텍스(Mutex)와 세마포어(Semaphore)의 차이에 대해 설명해주세요.
- 뮤텍스는 Lock을 사용해 하나의 프로세스나 쓰레드를 단독으로 실행하게 합니다.
- 반면에 세마포어는 공유자원에 세마포어 변수만큼의 프로세스(또는 쓰레드)가 접근할 수 있습니다.
- 세마포어의 변수 → 공유자원의 개수를 나타내는 변수

- 현재 수행중인 프로세스가 아닌 다른 프로세스가 세마포어를 해제할 수 있습니다.
- 하지만 뮤텍스는 락(lock)을 획득한 프로세스가 반드시 그 락을 해제해야 합니다.

- 0과 1의 값만 갖는 세마포어 → 이진 세마포어(binary semaphore) (= 뮤텍스)
- 도메인 제한이 없는 세마포어(0,1 뿐만아니라 2,3,4 등의 값들 또한 가질 수 있는) → 카운팅 세마포어(counting semaphore)